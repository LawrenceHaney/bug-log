(function(t){function e(e){for(var a,n,r=e[0],c=e[1],l=e[2],d=0,g=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&g.push(o[n][0]),o[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(g.length)g.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},o={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0383":function(t,e,s){"use strict";var a=s("7505"),o=s.n(a);o.a},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[t._v("AppName")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?s("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e()]),s("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):s("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v(" Login ")])])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],c=s("bc3a"),l=s.n(c),u=s("335d"),d={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},g=d,p=s("2877"),h=Object(p["a"])(g,n,r,!1,null,null,null),v=h.exports,m={name:"App",async beforeCreate(){await Object(u["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),this.$store.dispatch("getBugs"))},components:{Navbar:v}},b=m,f=(s("5c0b"),Object(p["a"])(b,o,i,!1,null,null,null)),w=f.exports,C=s("8c4f"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home container-fluid background"},[s("div",{staticClass:"row"},[s("form",{staticClass:"bg-secondary col-12",on:{submit:function(e){return e.preventDefault(),t.addBug(e)}}},[s("div",{staticClass:"row justify-content-around"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBug.title,expression:"newBug.title"}],staticClass:"col-10 m-1",attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newBug.title},on:{input:function(e){e.target.composing||t.$set(t.newBug,"title",e.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newBug.description,expression:"newBug.description"}],staticClass:"col-10 m-1",attrs:{type:"text",placeholder:"description"},domProps:{value:t.newBug.description},on:{input:function(e){e.target.composing||t.$set(t.newBug,"description",e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-outline-light m-1 fade-in col-10",attrs:{type:"submit"}},[t._v("Create Bug")])])])]),s("div",{staticClass:"spacer"}),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-10"},[s("div",{staticClass:"row justify-content-around p-2 bg-danger text-pop"},[s("h1",{staticClass:"col-12 text-center border-bottom border-dark p-1"},[t._v("Bugs")]),t._m(0),t._m(1),s("div",{staticClass:"col-4"},[s("h4",[t._v(" Status:")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.sortBugs}},[t._v("Fliter")])])])]),s("div",{staticClass:"col-10"},[s("div",{staticClass:"row justify-content-center"},t._l(t.bugs,(function(t){return s("bug",{key:t.id,staticClass:"col-12 bug-container align-items-center my-2 pop",attrs:{bugData:t}})})),1)])])])},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-4"},[s("h4",[t._v(" Title ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-4"},[s("h4",[t._v(" Creator "),s("br"),t._v(" Modified Date: ")])])}],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticClass:"row justify-content-around p-2 text-pop-small",attrs:{to:{name:"Details",params:{bugId:t.bugData.id}}}},[s("div",{staticClass:"col-4"},[s("p",[t._v(" "+t._s(t.bugData.title)+" ")])]),s("div",{staticClass:"col-4"},[s("p",[t._v(" "+t._s(t.bugData.creatorEmail)+" "),s("br"),t._v(" "+t._s(t.bugData.closedDate)+" "+t._s(t.bugData.createdAt)+" ")])]),s("div",{staticClass:"col-4"},[0==t.bugData.closed?s("p",{staticClass:"text-success"},[t._v(" open")]):s("s",{staticClass:"text-danger"},[t._v("closed")])])])},$=[],x={name:"bug",props:["bugData"],data(){return{newBug:{}}},computed:{}},N=x,j=Object(p["a"])(N,y,$,!1,null,null,null),D=j.exports,E={name:"home",computed:{bugs(){return this.closedtoggle?this.$store.state.bugs:this.opentoggle?this.$store.state.bugs.filter(t=>0==t.closed):this.$store.state.bugs.filter(t=>1==t.closed)}},data(){return{closedtoggle:!0,opentoggle:!0,newBug:{closed:!1,title:"",description:""}}},methods:{addBug(){this.$store.dispatch("addBug",this.newBug)},sortBugs(){1==this.closedtoggle?this.closedtoggle=!this.closedtoggle:1==this.opentoggle?this.opentoggle=!this.opentoggle:(this.opentoggle=!this.opentoggle,this.closedtoggle=!this.closedtoggle)}},mounted(){this.$store.dispatch("getBugs")},components:{bug:D}},O=E,k=Object(p["a"])(O,_,B,!1,null,null,null),P=k.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about text-center"},[s("h1",[t._v("Welcome "+t._s(t.profile.name))]),s("img",{staticClass:"rounded",attrs:{src:t.profile.picture,alt:""}}),s("p",[t._v(t._s(t.profile.email))])])},I=[],T={name:"Profile",computed:{profile(){return this.$store.state.profile}}},S=T,Y=(s("0383"),Object(p["a"])(S,A,I,!1,null,"59c2bb44",null)),H=Y.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid background"},[t.activeBug?s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"card col-3 bg-light"},[s("h1",[t._v(" "+t._s(t.activeBug.title)+" ")]),s("h6",[t._v(" "+t._s(t.activeBug.creatorEmail)+" ")]),0==t.activeBug.closed?s("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:t.editBug}},[t._v("Edit")]):t._e()]),s("div",{staticClass:" card col-7 bg-light p-4"},[0==t.activeBug.closed?s("p",{staticClass:"text-success text-right"},[t._v(" open")]):s("p",{staticClass:"text-danger text-right"},[t._v("closed")]),s("p",[t._v(" "+t._s(t.activeBug.description)+" ")]),0==t.activeBug.closed?s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:t.closeBug}},[t._v("Close Bug")]):t._e()])]):s("div",{staticClass:"div"},[t._v(" loding ...")]),s("div",{staticClass:"row justify-content-center"},[t.notes.length>0?s("div",{staticClass:"col-10 bg-light"},t._l(t.notes,(function(t){return s("note",{key:t.id,staticClass:"notes",attrs:{noteData:t}})})),1):s("div",{staticClass:"spacer col-10 bg-light d-flex justify-content-around"},[s("p",{staticClass:"muted align-self-center"},[t._v("nothing here boss")])]),s("div",{staticClass:"col-10 bg-secondary pt-5"},[s("form",{staticClass:"justify-content-around",on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newNote.content,expression:"newNote.content"}],staticClass:"col-10 m-1",attrs:{type:"text",placeholder:t.newNote.content,required:""},domProps:{value:t.newNote.content},on:{input:function(e){e.target.composing||t.$set(t.newNote,"content",e.target.value)}}}),s("button",{staticClass:"btn btn-outline-light m-1 fade-in",attrs:{type:"submit"}},[t._v("Create Note")])])])])])},K=[],W=s("ac68"),q=s.n(W),J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-dark text-pop row justify-content-between p-3 m-4 content-shadow"},[s("div",{staticClass:"col-4"},[t._v(t._s(t.noteData.creator.name))]),s("div",{staticClass:"col-6"},[t._v(t._s(t.noteData.content))]),s("div",{staticClass:"col-1"},[s("i",{staticClass:"fa fa-pen",attrs:{"aria-hidden":"true"},on:{click:t.editNote}})]),s("div",{staticClass:"col-1"},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:t.deleteNote}})])])},R=[],U={name:"note",props:["noteData"],data(){return{newNote:{content:"words here",bug:this.$route.params.bugId,flagged:"pending"}}},methods:{deleteNote(){q.a.fire({title:"Are you sure you want to delete this note?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"var(--danger)",cancelButtonColor:"var(--success)",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&(this.$store.dispatch("deleteNote",this.noteData),q.a.fire({title:"Deleted!",text:"Your note has been deleted.",confirmButtonText:"OK",icon:"success"}))})},editNote(){q.a.fire({title:"Edit Note",html:'<input id="swal-input1" class="swal11-input">',focusConfirm:!1,preConfirm:()=>{this.newNote.content=document.getElementById("swal-input1").value}}).then(t=>{t.isConfirmed&&(this.newNote.id=this.noteData.id,this.$store.dispatch("editNote",this.newNote),q.a.fire({title:"Edit!",text:"Your note has been edited.",confirmButtonText:"OK",icon:"success"}))})}}},z=U,L=Object(p["a"])(z,J,R,!1,null,null,null),V=L.exports,F={name:"BugDetails",data(){return{newNote:{content:"words here",bug:this.$route.params.bugId,flagged:"pending"},newBug:{id:this.$route.params.bugId}}},mounted(){this.$store.dispatch("getBugById",this.$route.params.bugId),this.$store.dispatch("getNotes",this.$route.params.bugId)},computed:{activeBug(){return this.$store.state.activebug},notes(){return this.$store.state.activenotes}},components:{note:V},methods:{addNote(){this.$store.dispatch("addNote",this.newNote)},closeBug(){q.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, close it!"}).then(t=>{t.isConfirmed&&(this.$store.dispatch("deleteBug",this.$route.params.bugId),q.a.fire("Hope you fixed it!","Your Bug has been closed.","success"))})},editBug(){q.a.fire({title:"Edit bug",html:'<h6>Edit title</h6><input id="swal-input1" class="swal2-input" v-model="newBug.title"><h6>Edit Description</h6><input id="swal-input2" class="swal2-input" v-model="newBug.description">',focusConfirm:!1,preConfirm:()=>{this.newBug.title=document.getElementById("swal-input1").value,this.newBug.description=document.getElementById("swal-input2").value}}).then(t=>{t.isConfirmed&&(console.log(this.newBug),this.$store.dispatch("editBug",this.newBug),q.a.fire({title:"Edit!",text:"Your Bug has been edited.",confirmButtonText:"OK",icon:"success"}))})}}},X=F,G=Object(p["a"])(X,M,K,!1,null,null,null),Q=G.exports;a["a"].use(C["a"]);const Z=[{path:"/",name:"Home",component:P},{path:"/profile",name:"Profile",component:H,beforeEnter:u["b"]},{path:"/bugdetails/:bugId",name:"Details",component:Q,beforeEnter:u["b"]}],tt=new C["a"]({routes:Z});var et=tt,st=(s("eebe"),s("2f62"));let at=location.host.includes("localhost")?"http://localhost:3000/":"/";const ot=l.a.create({baseURL:at+"api",timeout:3e3,withCredentials:!0});a["a"].use(st["a"]);var it=new st["a"].Store({state:{profile:{},bugs:[],activebug:{},activenotes:[]},mutations:{setProfile(t,e){t.profile=e},setBugs(t,e){t.bugs=e},setActiveBug(t,e){t.activebug=e},setActiveNotes(t,e){t.activenotes=e}},actions:{setBearer({},t){ot.defaults.headers.authorization=t},resetBearer(){ot.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await ot.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getBugs({commit:t},e){try{await ot.get("/bugs").then(e=>{t("setBugs",e.data)})}catch(s){console.error(s)}},async addBug({commit:t},e,s){try{let t=await ot.post("bugs",e);et.push({name:"Details",params:{bugId:t.data._id}})}catch(a){console.error(a)}},async getBugById({commit:t},e){try{let s=await ot.get("bugs/"+e);t("setActiveBug",s.data)}catch(s){}},async editBug({commit:t},e){try{let s=await ot.put("bugs/"+e.id,e);t("setActiveBug",s.data)}catch(s){console.error(s)}},async deleteBug({commit:t,state:e},s){try{if(0==this.state.activebug.closed){this.state.activebug.closed=!0;let a=e.activebug;console.log(a);let o=await ot.delete("bugs/"+s,a);t("setActiveBug",a),console.log(o)}}catch(a){console.error(a)}},async addNote({commit:t,dispatch:e},s){try{await ot.post("notes",s).then(t=>{e("getNotes",t.data.bug)})}catch(a){console.error(a)}},async getNotes({commit:t},e,s){try{await ot.get("/bugs/"+e+"/notes").then(e=>{t("setActiveNotes",e.data)})}catch(a){console.error(a)}},async deleteNote({commit:t,dispatch:e,state:s},a){try{await ot.delete("notes/"+a.id).then(e=>{t("setActiveNotes",this.state.activenotes.filter(t=>t.id!=a.id))})}catch(o){console.error(o)}},async editNote({commit:t,state:e},s){try{let e=await ot.put("notes/"+s.id,s);t("setActiveNotes",[...this.state.activenotes.filter(t=>t.id!=e.data.id),e.data])}catch(a){console.error(a)}}}});const nt="dev-lhaney.us.auth0.com",rt="https://buglog",ct="vmVS6AhWDiqVOI09fO8R7lXxPKeJvWtl";a["a"].use(u["a"],{domain:nt,clientId:ct,audience:rt,onRedirectCallback:t=>{et.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new a["a"]({router:et,store:it,render:function(t){return t(w)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),o=s.n(a);o.a},7505:function(t,e,s){},"9c0c":function(t,e,s){}});